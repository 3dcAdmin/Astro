---
const {content, githubEditUrl} = Astro.props;
const title = content.title;
const headers = content.astro.headers;
const currentPage = Astro.request.url.pathname;
import MoreMenu from '../RightSidebar/MoreMenu.astro';
import TableOfContents from '../RightSidebar/TableOfContents.tsx';
import {getLanguageFromURL} from '../../util.ts';
import {SIDEBAR} from '../../config.ts';
const langCode = getLanguageFromURL(currentPage);
const links = SIDEBAR[langCode].filter(x => x.link && typeof x.header === 'undefined');
const index = links.findIndex(x => `/${x.link}` === currentPage);
const next = links[index + 1];
---
<style>
      .content {
        padding: 0;
        max-width: 75ch;
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
      }
      .content > section {
        margin-bottom: 4rem;
      }
      .block {
        display: block;
      }

      @media (min-width: 50em) {
        .sm\:hidden {
          display: none;
        }
      }
</style>
<article id="article" class="content">
    <section class="main-section">
        <h1 class="content-title" id="overview">{title}</h1>
        <nav class="block sm:hidden">
            <TableOfContents client:media="(max-width: 50em)" headers={headers}/>
        </nav>
        <slot />
    </section>
    <nav class="block sm:hidden">
        <MoreMenu editHref={githubEditUrl}/>
    </nav>
    {
      next && <aside>
      Next Article: <a href={`${Astro.site.pathname}${next.link}`}>{next.text}</a>
    </aside>
    }
</article>