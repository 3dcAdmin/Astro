---
import capitalise from './function-capitalise.js'
import formatTemplateName from './function-format-name.js'
import generateThumbnailIcon from './function-generate-thumbnail-icon.js'
const icons =[
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>,
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -25 424 424">
  <defs/>
  <path fill="currentColor" d="M167.3 272.1a7 7 0 01-4.5-1.6l-45.3-38.6a7 7 0 010-10.7l45.3-38.5a7 7 0 119 10.6l-39 33.3 39 33.2a7 7 0 01-4.5 12.3zm0 0"/>
  <path  fill="currentColor" d="M256.7 272.1c-2 0-4-.8-5.3-2.4a7 7 0 01.8-9.9l39-33.2-39-33.3a7 7 0 019-10.6l45.3 38.5a7 7 0 010 10.7l-45.3 38.6a7 7 0 01-4.5 1.6zm0 0M196 301h-1.5a7 7 0 01-5.4-8.4l28.2-134a7 7 0 0113.7 2.9l-28.2 134a7 7 0 01-6.8 5.6zm0 0"/>
  <path fill="currentColor" d="M377 374H47c-26 0-47-21-47-47V47C0 21 21 0 47 0h330c26 0 47 21 47 47v280c0 26-21 47-47 47zM47 14a33 33 0 00-33 33v280a33 33 0 0033 33h330a33 33 0 0033-33V47a33 33 0 00-33-33zm0 0"/>
  <path  fill="currentColor" d="M417 112H7a7 7 0 110-14h410a7 7 0 010 14zm0 0M119.6 78.6a22.2 22.2 0 110-44.4 22.2 22.2 0 010 44.4zm0-30.3a8.2 8.2 0 100 16.3 8.2 8.2 0 000-16.3zm0 0M51.5 78.4a22.2 22.2 0 110-44.4 22.2 22.2 0 010 44.4zm0-30.3a8.2 8.2 0 100 16.3 8.2 8.2 0 000-16.3zm0 0M187.7 78.8a22.2 22.2 0 110-44.3 22.2 22.2 0 010 44.3zm0-30.3a8.2 8.2 0 100 16.3 8.2 8.2 0 000-16.3zm0 0"/>
</svg>,
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
  <defs/>
  <path fill="currentColor" d="M12 .5C5.4.5 0 5.8 0 12.3c0 5.2 3.4 9.6 8.2 11.2.6 0 .8-.3.8-.6v-2c-3.3.7-4-1.6-4-1.6-.6-1.3-1.4-1.7-1.4-1.7-1-.7.1-.7.1-.7C5 16.9 5.6 18 5.6 18c1 1.8 2.8 1.3 3.5 1 0-.8.4-1.3.7-1.6-2.7-.3-5.5-1.3-5.5-5.8 0-1.3.5-2.4 1.3-3.2-.2-.3-.6-1.5 0-3.1 0 0 1-.3 3.4 1.2a11.7 11.7 0 016 0c2.3-1.5 3.3-1.2 3.3-1.2.6 1.6.2 2.8 0 3.1.9.8 1.3 1.9 1.3 3.2 0 4.5-2.8 5.5-5.5 5.8.5.3.9 1 .9 2.2v3.2c0 .3.1.7.8.6 4.8-1.6 8.2-6 8.2-11.2C24 5.8 18.6.5 12 .5z"/>
</svg>

]
---
    <div class="card-wrapper">
        <div class="image"></div>
        <div class="card-avatar">
            <img src={await generateThumbnailIcon()} alt="" class="icon-image ball">
        </div>
        <div class="card-body">
            <h3 class="title">
                Template Title
            </h3>
            <p>
                product description
            </p>
        </div>
        <div class="hotlinks">
            <button><span class="icon-btn">{icons[0]}</span></button>
            <button><i class="icon-btn">{icons[1]}</i></button>
            <button><i class="icon-btn">{icons[2]}</i></button>
        </div>
    </div>
    
    <style lang="scss">
        *{
            background-clip:border-box;
        }
        .hotlinks{
            display:flex;
            flex-wrap: wrap;
            flex-direction: row;
            align-content: center;
            align-items: normal;
            justify-content: center;
            width:75%;
            margin:1rem auto;
            gap:1.5rem;
            // border: 1px dashed red;
            padding: 0.15rem 1rem;
            border-radius: 2rem;
            background: linear-gradient(125deg, var(--theme-bg) 0%, var(--theme-card-bg) 30%);
            
            // box-shadow:  var(--theme-card-box-shadow);
            > button{
                background-color: transparent;
                border-left:2px solid var(--theme-divider);
                border-right:2px solid var(--theme-divider);
                border-radius: 0;
                flex-grow:1;
                transition: all 0.25s ease-in-out;
                cursor: pointer;
                
                & :active{
                 background-color: green;   
                 transform: scale(0.9);
                }
            }
            & .icon-btn{
                margin: auto;
                width:2rem;
                color:var(--theme-accent);

            }
          
        }
        .card-wrapper{
            display:flex;
            flex-direction:column;
            position:relative;
            justify-items:center;
            align-items:center;
            // width:50%;
            border-radius:60px 60px 100px 100px / 60px 60px 20px 20px;
            padding:0;
            padding-bottom:1.5rem;
            background: var(--theme-card-bg);
            box-shadow:  var(--theme-card-box-shadow);
        }

        .image{
            background-image:url('https://images.unsplash.com/photo-1464802686167-b939a6910659?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1033&q=80');
            height:13rem;
            width:100%;
            border-radius: 60px 60px 100px 100px / 60px 60px 20px 20px;
            // margin-bottom:1rem;
            border-bottom:3px solid linear-gradient(var(--theme-divider));
        }
        .title{
            display: block;
            position: relative;
            top:-1rem;
            margin:0;
            width:fit-content;
            margin:auto;

        }
        .card-body{
            justify-items:center;

            > p {
                width:fit-content;
            }
        }
        .card-avatar{
            position: relative;
            top:-2.5rem;
            left:0%;
            border:0.25rem solid var(--theme-divider);
            display: block;
            width: clamp(5rem,8rem,7rem);
            height: clamp(5rem,8rem,7rem);
            margin: 0;
            border-radius: 50%;
            
            @media(max-width:50em){
                width:4rem;
                height:4rem;
            }
            @media(max-width:24em){
                // left:30%;
            }
            @media(max-width:280px){
                display:none;
            }
        }
      


 
    </style>
    <script>
    //Check the theme based on the root if the classlist is light or dark
    // Apply the shadow to the childwrapper 
    const isDark = document.documentElement.classList.contains('theme-dark')
    console.log(isDark)
    </script>