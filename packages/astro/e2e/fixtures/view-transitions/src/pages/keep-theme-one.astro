---
import Layout from '../components/Layout.astro';
---
<Layout>
	<p id="name">Keep Theme</p>
	<a id="click" href="/keep-two">go to next page</a>
</Layout>
<script>

	document.addEventListener('astro:before-swap', (e) => {
		e.swapSteps.extend({
			swapRootAttributes(doc, previousSwapRootAttributes) {
				const theme = document.documentElement.getAttribute('data-theme')!;
				previousSwapRootAttributes(doc); // reuse the built-in implementation
				document.documentElement.setAttribute('data-theme', theme);
			},
		});
	});
</script>
