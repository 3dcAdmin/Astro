---
import type { GetStaticPaths } from 'astro';
import { getCollection } from 'astro:content';

export const getStaticPaths = (async () => {
	const collection = await getCollection('fish');
	if (!collection) return [];
	return collection.map((fish) => ({
		params: {
			slug: fish.id,
		},
		props: {
			fish: fish.data,
		},
	}));
}) satisfies GetStaticPaths;

interface Props {
	fish: {
		id: string;
		name: string;
		breed: string;
		age: number;
	};
}

const { fish } = Astro.props;
---

<h1>{fish.name}</h1>
<ul>
	<li>Breed: {fish.breed}</li>
	<li>Age: {fish.age}</li>
</ul>
